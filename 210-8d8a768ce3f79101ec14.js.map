{"version":3,"file":"210-8d8a768ce3f79101ec14.js","mappings":"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","sources":["webpack://cvc-website/./node_modules/@mui/icons-material/esm/ChevronLeft.js","webpack://cvc-website/./node_modules/@mui/icons-material/esm/ChevronRight.js","webpack://cvc-website/./node_modules/@mui/icons-material/esm/PlayArrow.js","webpack://cvc-website/./node_modules/@mui/icons-material/esm/Pause.js","webpack://cvc-website/./node_modules/@mui/icons-material/esm/Launch.js","webpack://cvc-website/./src/components/VideoBanner.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 5v14l11-7z\"\n}), 'PlayArrow');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M6 19h4V5H6zm8-14v14h4V5z\"\n}), 'Pause');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z\"\n}), 'Launch');","import React, { useState, useRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'gatsby'\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft'\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight'\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow'\nimport PauseIcon from '@mui/icons-material/Pause'\nimport LaunchIcon from '@mui/icons-material/Launch'\nimport './VideoBanner.css'\n\nconst VideoBanner = ({ videos }) => {\n  const [currentIndex, setCurrentIndex] = useState(0)\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [loadedVideos, setLoadedVideos] = useState(new Set([0])) // Preload first video\n  const videoRef = useRef(null)\n\n  // Preload adjacent videos\n  useEffect(() => {\n    const toLoad = new Set(loadedVideos)\n    // Load current, previous, and next videos\n    const indicesToLoad = [\n      currentIndex,\n      (currentIndex - 1 + videos.length) % videos.length,\n      (currentIndex + 1) % videos.length,\n    ]\n    indicesToLoad.forEach(idx => toLoad.add(idx))\n    setLoadedVideos(toLoad)\n  }, [currentIndex, videos.length, loadedVideos])\n\n  const handlePrevious = () => {\n    setIsPlaying(false)\n    setCurrentIndex(prev => (prev - 1 + videos.length) % videos.length)\n  }\n\n  const handleNext = () => {\n    setIsPlaying(false)\n    setCurrentIndex(prev => (prev + 1) % videos.length)\n  }\n\n  const togglePlayPause = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause()\n      } else {\n        videoRef.current.play()\n      }\n      setIsPlaying(!isPlaying)\n    }\n  }\n\n  const handleVideoEnd = () => {\n    setIsPlaying(false)\n    // Auto-advance to next video\n    handleNext()\n  }\n\n  if (!videos || videos.length === 0) {\n    return null\n  }\n\n  const currentVideo = videos[currentIndex]\n\n  return (\n    <div className=\"video-banner\">\n      <div className=\"video-banner-container\">\n        <h2 className=\"video-banner-title\">Research Highlights</h2>\n\n        <div className=\"video-showcase\">\n          <button\n            className=\"video-nav-button video-nav-prev\"\n            onClick={handlePrevious}\n            aria-label=\"Previous video\"\n          >\n            <ChevronLeftIcon />\n          </button>\n\n          <div className=\"video-wrapper\">\n            <video\n              ref={videoRef}\n              key={currentVideo.src} // Force remount on video change\n              className=\"showcase-video\"\n              onEnded={handleVideoEnd}\n              onClick={togglePlayPause}\n              poster={currentVideo.poster}\n              preload=\"metadata\"\n              muted\n              playsInline\n            >\n              {loadedVideos.has(currentIndex) && <source src={currentVideo.src} type=\"video/mp4\" />}\n              <track kind=\"captions\" srcLang=\"en\" label=\"English captions\" />\n              Your browser does not support the video tag.\n            </video>\n\n            <button\n              className=\"video-play-button\"\n              onClick={togglePlayPause}\n              aria-label={isPlaying ? 'Pause video' : 'Play video'}\n            >\n              {isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\n            </button>\n\n            <div className=\"video-info\">\n              <h3>{currentVideo.title}</h3>\n              <p>{currentVideo.description}</p>\n              {currentVideo.projectLink && (\n                <Link to={currentVideo.projectLink} className=\"video-project-link\">\n                  View Project <LaunchIcon fontSize=\"small\" />\n                </Link>\n              )}\n            </div>\n          </div>\n\n          <button\n            className=\"video-nav-button video-nav-next\"\n            onClick={handleNext}\n            aria-label=\"Next video\"\n          >\n            <ChevronRightIcon />\n          </button>\n        </div>\n\n        <div className=\"video-indicators\">\n          {videos.map((_, index) => (\n            <button\n              key={index}\n              className={`video-indicator ${index === currentIndex ? 'active' : ''}`}\n              onClick={() => {\n                setIsPlaying(false)\n                setCurrentIndex(index)\n              }}\n              aria-label={`Go to video ${index + 1}`}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nVideoBanner.propTypes = {\n  videos: PropTypes.arrayOf(\n    PropTypes.shape({\n      src: PropTypes.string.isRequired,\n      poster: PropTypes.string,\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string.isRequired,\n      projectLink: PropTypes.string,\n    })\n  ),\n}\n\nVideoBanner.defaultProps = {\n  videos: [],\n}\n\nexport default VideoBanner\n"],"names":["createSvgIcon","d","VideoBanner","_ref","videos","currentIndex","setCurrentIndex","useState","isPlaying","setIsPlaying","loadedVideos","setLoadedVideos","Set","videoRef","useRef","useEffect","toLoad","length","forEach","idx","add","handleNext","prev","togglePlayPause","current","pause","play","currentVideo","React","className","onClick","handlePrevious","ChevronLeftIcon","ref","key","src","onEnded","handleVideoEnd","poster","preload","muted","playsInline","has","type","kind","srcLang","label","PauseIcon","PlayArrowIcon","title","description","projectLink","Link","to","LaunchIcon","fontSize","ChevronRightIcon","map","_","index","defaultProps"],"sourceRoot":""}